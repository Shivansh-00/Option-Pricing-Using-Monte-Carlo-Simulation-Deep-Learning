<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>OptionQuant — Sign In</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;600&display=swap" rel="stylesheet" />
  <style>
    /* ═══════════════════════════════════════════════════════════════
       PREMIUM AUTH — Design Tokens
       ═══════════════════════════════════════════════════════════════ */
    :root {
      --primary:        #6d5cff;
      --primary-light:  #8b7dff;
      --primary-dark:   #5748d9;
      --primary-glow:   rgba(109,92,255,.35);
      --primary-ghost:  rgba(109,92,255,.08);
      --accent:         #00e5a0;
      --accent-glow:    rgba(0,229,160,.25);
      --cyan:           #3ea8ff;
      --danger:         #ff5c7c;
      --warning:        #ffc044;
      --bg-body:        #080a10;
      --bg-card:        rgba(16,19,28,.78);
      --bg-card-hover:  rgba(20,24,36,.85);
      --bg-input:       rgba(12,15,24,.65);
      --bg-input-focus: rgba(18,21,32,.92);
      --border:         rgba(255,255,255,.05);
      --border-subtle:  rgba(255,255,255,.03);
      --border-focus:   var(--primary);
      --text-primary:   #f0f1f5;
      --text-secondary: #9ba1b7;
      --text-tertiary:  #636a82;
      --text-faint:     #3d4358;
      --radius:         16px;
      --radius-sm:      12px;
      --radius-xs:      8px;
      --radius-pill:    100px;
      --font-sans:      'Inter', system-ui, -apple-system, sans-serif;
      --font-mono:      'JetBrains Mono', 'Fira Code', monospace;
      --ease-out:       cubic-bezier(.16,1,.3,1);
      --ease-spring:    cubic-bezier(.34,1.56,.64,1);
      --ease-smooth:    cubic-bezier(.4,0,.2,1);
      --ease-bounce:    cubic-bezier(.68,-.55,.265,1.55);
      --shadow-ambient: 0 0 0 1px rgba(109,92,255,.04);
      --shadow-elevated:0 24px 80px -12px rgba(0,0,0,.5), 0 8px 24px -8px rgba(0,0,0,.3);
      --shadow-glow:    0 0 60px -12px var(--primary-glow);
    }

    /* ═══════════════════════════════════════════════════════════════
       RESET & BASE
       ═══════════════════════════════════════════════════════════════ */
    *, *::before, *::after { margin:0; padding:0; box-sizing:border-box; }
    html {
      font-size: 15px;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      text-rendering: optimizeLegibility;
    }
    body {
      font-family: var(--font-sans);
      background: var(--bg-body);
      color: var(--text-primary);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      overflow-x: hidden;
      overflow-y: auto;
      scroll-behavior: smooth;
      position: relative;
    }

    /* ═══════════════════════════════════════════════════════════════
       AMBIENT BACKGROUND — Multi-layer depth system
       ═══════════════════════════════════════════════════════════════ */

    /* Layer 0: Deep space gradient */
    .bg-void {
      position: fixed; inset: 0; z-index: 0; pointer-events: none;
      background:
        radial-gradient(ellipse 120% 80% at 20% 0%, rgba(109,92,255,.07) 0%, transparent 50%),
        radial-gradient(ellipse 100% 60% at 80% 100%, rgba(0,229,160,.04) 0%, transparent 50%),
        radial-gradient(ellipse 80% 80% at 50% 50%, rgba(8,10,16,1) 0%, var(--bg-body) 100%);
    }

    /* Layer 1: Animated orbs */
    .ambient { position: fixed; inset: 0; z-index: 1; pointer-events: none; overflow: hidden; }
    .ambient .orb {
      position: absolute; border-radius: 50%; filter: blur(120px); opacity: .12;
      will-change: transform;
      backface-visibility: hidden;
      mix-blend-mode: screen;
      transform: translateZ(0);
    }
    .ambient .orb:nth-child(1) {
      width: 600px; height: 600px;
      background: radial-gradient(circle, var(--primary) 0%, transparent 70%);
      top: -18%; left: -10%;
      animation: orbFloat1 24s ease-in-out infinite alternate;
    }
    .ambient .orb:nth-child(2) {
      width: 500px; height: 500px;
      background: radial-gradient(circle, var(--accent) 0%, transparent 70%);
      bottom: -15%; right: -8%;
      animation: orbFloat2 28s ease-in-out infinite alternate;
    }
    .ambient .orb:nth-child(3) {
      width: 400px; height: 400px;
      background: radial-gradient(circle, var(--cyan) 0%, transparent 70%);
      top: 35%; left: 50%;
      animation: orbFloat3 32s ease-in-out infinite alternate;
    }
    .ambient .orb:nth-child(4) {
      width: 350px; height: 350px;
      background: radial-gradient(circle, #ff5c7c 0%, transparent 70%);
      top: 60%; left: 15%;
      filter: blur(140px); opacity: .06;
      animation: orbFloat1 38s ease-in-out infinite alternate-reverse;
    }
    @keyframes orbFloat1 {
      0%   { transform: translate3d(0,0,0) scale(1); opacity: .12 }
      25%  { transform: translate3d(40px,-50px,0) scale(1.1); opacity: .16 }
      50%  { transform: translate3d(-20px,30px,0) scale(.92); opacity: .10 }
      75%  { transform: translate3d(-35px,-25px,0) scale(1.06); opacity: .15 }
      100% { transform: translate3d(15px,-15px,0) scale(1.02); opacity: .12 }
    }
    @keyframes orbFloat2 {
      0%   { transform: translate3d(0,0,0) scale(1) rotate(0deg); opacity: .10 }
      33%  { transform: translate3d(-25px,35px,0) scale(1.08) rotate(3deg); opacity: .14 }
      66%  { transform: translate3d(30px,-20px,0) scale(.9) rotate(-4deg); opacity: .09 }
      100% { transform: translate3d(-12px,12px,0) scale(1.04) rotate(1deg); opacity: .11 }
    }
    @keyframes orbFloat3 {
      0%   { transform: translate3d(0,0,0) scale(1); opacity: .09 }
      33%  { transform: translate3d(25px,-30px,0) scale(1.12); opacity: .13 }
      66%  { transform: translate3d(-22px,18px,0) scale(.88); opacity: .07 }
      100% { transform: translate3d(8px,-10px,0) scale(1.03); opacity: .10 }
    }

    /* Layer 2: Grid pattern with radial mask */
    .grid-bg {
      position: fixed; inset: 0; z-index: 2; pointer-events: none;
      background-image:
        linear-gradient(rgba(109,92,255,.015) 1px, transparent 1px),
        linear-gradient(90deg, rgba(109,92,255,.015) 1px, transparent 1px);
      background-size: 48px 48px;
      mask-image: radial-gradient(ellipse 70% 60% at 50% 50%, black 20%, transparent 80%);
      -webkit-mask-image: radial-gradient(ellipse 70% 60% at 50% 50%, black 20%, transparent 80%);
      animation: gridReveal 2s var(--ease-out) forwards;
      opacity: 0;
    }
    @keyframes gridReveal { to { opacity: 1 } }

    /* Layer 3: Conic mesh gradient */
    .mesh-gradient {
      position: fixed; inset: -20%; z-index: 2; pointer-events: none;
      background: conic-gradient(from 200deg at 50% 50%,
        rgba(109,92,255,.06) 0deg, rgba(0,229,160,.03) 72deg,
        rgba(62,168,255,.06) 144deg, rgba(255,92,124,.03) 216deg,
        rgba(109,92,255,.06) 288deg, rgba(0,229,160,.03) 360deg);
      filter: blur(100px);
      animation: meshSpin 80s linear infinite;
    }
    @keyframes meshSpin { to { transform: rotate(360deg) } }

    /* Layer 4: Particle canvas */
    #particleCanvas {
      position: fixed; inset: 0; z-index: 3; pointer-events: none;
      opacity: 0;
      animation: particleFadeIn 3s 0.5s var(--ease-out) forwards;
    }
    @keyframes particleFadeIn { to { opacity: 1 } }

    /* Layer 5: Spotlight that follows card */
    .spotlight {
      position: fixed; z-index: 2; pointer-events: none;
      width: 800px; height: 800px;
      background: radial-gradient(circle, rgba(109,92,255,.04) 0%, transparent 60%);
      top: 50%; left: 50%;
      transform: translate(-50%, -50%);
      transition: transform 0.8s var(--ease-out);
    }

    /* ═══════════════════════════════════════════════════════════════
       AUTH WRAPPER — Perspective container
       ═══════════════════════════════════════════════════════════════ */
    .auth-wrapper {
      position: relative; z-index: 10;
      width: 100%; max-width: 460px;
      padding: 24px;
      perspective: 1200px;
      /* Stagger entrance */
      opacity: 0;
      animation: wrapperIn 1s .15s var(--ease-out) forwards;
    }
    @keyframes wrapperIn {
      from { opacity: 0; transform: translateY(30px); filter: blur(10px); }
      to   { opacity: 1; transform: translateY(0); filter: blur(0); }
    }

    /* ═══════════════════════════════════════════════════════════════
       AUTH CARD — Premium glassmorphism
       ═══════════════════════════════════════════════════════════════ */
    .auth-card {
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 48px 44px 44px;
      backdrop-filter: blur(40px) saturate(1.3) brightness(1.05);
      -webkit-backdrop-filter: blur(40px) saturate(1.3) brightness(1.05);
      box-shadow:
        var(--shadow-ambient),
        var(--shadow-elevated),
        var(--shadow-glow),
        inset 0 1px 0 rgba(255,255,255,.04),
        inset 0 -1px 0 rgba(0,0,0,.2);
      position: relative;
      overflow: hidden;
      transform-style: preserve-3d;
      transition: transform .5s var(--ease-out),
                  box-shadow .5s var(--ease-out),
                  border-color .3s ease;
      will-change: transform;
    }
    .auth-card:hover {
      border-color: rgba(109,92,255,.12);
      box-shadow:
        var(--shadow-ambient),
        0 32px 100px -16px rgba(0,0,0,.6),
        0 0 80px -20px var(--primary-glow),
        inset 0 1px 0 rgba(255,255,255,.06),
        inset 0 -1px 0 rgba(0,0,0,.2);
    }

    /* Top accent glow bar */
    .auth-card::before {
      content: '';
      position: absolute;
      top: 0; left: 0; right: 0;
      height: 2px;
      background: linear-gradient(90deg,
        transparent 0%, var(--primary) 20%, var(--accent) 50%,
        var(--cyan) 80%, transparent 100%);
      background-size: 300% 100%;
      animation: borderTravel 6s ease-in-out infinite;
      z-index: 5;
    }
    @keyframes borderTravel {
      0%   { background-position: 0% 50%; opacity: .7; }
      50%  { background-position: 100% 50%; opacity: 1; }
      100% { background-position: 0% 50%; opacity: .7; }
    }

    /* Inner ambient glow */
    .auth-card::after {
      content: '';
      position: absolute;
      inset: 0;
      border-radius: inherit;
      background:
        radial-gradient(ellipse 80% 40% at 50% -5%, rgba(109,92,255,.08) 0%, transparent 60%),
        radial-gradient(ellipse 60% 30% at 50% 105%, rgba(0,229,160,.03) 0%, transparent 50%);
      pointer-events: none;
      z-index: 0;
    }

    /* Animated corner highlights */
    .corner-glow {
      position: absolute; width: 80px; height: 80px; pointer-events: none; z-index: 1;
    }
    .corner-glow::before {
      content: ''; position: absolute; border-radius: 2px;
      background: linear-gradient(135deg, var(--primary-light), transparent);
      opacity: 0; transition: opacity .6s ease;
    }
    .auth-card:hover .corner-glow::before { opacity: .3; }
    .corner-glow--tl { top: -1px; left: -1px; }
    .corner-glow--tl::before { top: 0; left: 0; width: 40px; height: 2px; }
    .corner-glow--tr { top: -1px; right: -1px; }
    .corner-glow--tr::before { top: 0; right: 0; width: 40px; height: 2px; }
    .corner-glow--bl { bottom: -1px; left: -1px; }
    .corner-glow--bl::before { bottom: 0; left: 0; width: 40px; height: 2px; }
    .corner-glow--br { bottom: -1px; right: -1px; }
    .corner-glow--br::before { bottom: 0; right: 0; width: 40px; height: 2px; }

    /* Mouse-follow glow overlay (set via JS) */
    .card-glow-follow {
      position: absolute; inset: 0; border-radius: inherit;
      pointer-events: none; z-index: 1; opacity: 0;
      transition: opacity .4s ease;
      background: radial-gradient(600px circle at var(--mx, 50%) var(--my, 50%),
        rgba(109,92,255,.06) 0%, transparent 60%);
    }
    .auth-card:hover .card-glow-follow { opacity: 1; }

    /* ═══════════════════════════════════════════════════════════════
       BRAND — Logo + Typography
       ═══════════════════════════════════════════════════════════════ */
    .brand {
      text-align: center; margin-bottom: 36px;
      position: relative; z-index: 2;
    }
    /* Stagger children */
    .brand .brand-logo { --delay: .25s; }
    .brand h2          { --delay: .35s; }
    .brand p           { --delay: .42s; }
    .brand > * {
      opacity: 0;
      animation: staggerUp .7s var(--delay, .2s) var(--ease-out) forwards;
    }
    @keyframes staggerUp {
      from { opacity: 0; transform: translateY(16px) scale(.96); filter: blur(4px); }
      to   { opacity: 1; transform: translateY(0) scale(1); filter: blur(0); }
    }

    .brand-logo {
      width: 64px; height: 64px; margin: 0 auto 18px;
      background: linear-gradient(135deg, var(--primary), var(--primary-dark), var(--accent));
      background-size: 200% 200%;
      border-radius: var(--radius-sm);
      display: grid; place-items: center;
      font-family: var(--font-mono);
      font-weight: 800; font-size: 22px; color: #fff;
      letter-spacing: -.02em;
      box-shadow:
        0 4px 24px var(--primary-glow),
        0 0 0 1px rgba(109,92,255,.15),
        inset 0 1px 0 rgba(255,255,255,.15);
      animation: logoPulse 8s ease-in-out infinite;
      position: relative; overflow: hidden;
      transition: transform .4s var(--ease-spring), box-shadow .4s ease;
      cursor: default;
    }
    .brand-logo:hover {
      transform: scale(1.1) translateY(-3px) rotate(-2deg);
      box-shadow:
        0 12px 48px var(--primary-glow),
        0 0 0 1px rgba(109,92,255,.2),
        inset 0 1px 0 rgba(255,255,255,.2);
    }
    /* Shine sweep on hover */
    .brand-logo::after {
      content: '';
      position: absolute; inset: 0;
      background: linear-gradient(115deg, transparent 25%, rgba(255,255,255,.25) 50%, transparent 75%);
      transform: translateX(-180%) skewX(-15deg);
      transition: transform .8s var(--ease-out);
    }
    .brand-logo:hover::after {
      transform: translateX(180%) skewX(-15deg);
    }
    /* Ambient ring */
    .brand-logo::before {
      content: '';
      position: absolute; inset: -4px;
      border-radius: inherit;
      background: conic-gradient(from 0deg, var(--primary), var(--accent), var(--cyan), var(--primary));
      opacity: 0; z-index: -1;
      filter: blur(8px);
      animation: logoRingPulse 4s ease-in-out infinite;
    }
    .brand-logo:hover::before { opacity: .35; }
    @keyframes logoPulse {
      0%, 100% { background-position: 0% 50%; }
      50%      { background-position: 100% 50%; }
    }
    @keyframes logoRingPulse {
      0%, 100% { opacity: 0; transform: scale(.95); }
      50%      { opacity: .2; transform: scale(1.05); }
    }

    .brand h2 {
      font-size: 1.4rem; font-weight: 800; letter-spacing: -.03em;
      background: linear-gradient(135deg, var(--text-primary) 0%, var(--primary-light) 50%, var(--accent) 100%);
      background-size: 300% 300%;
      -webkit-background-clip: text; background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: gradientText 8s ease-in-out infinite;
    }
    @keyframes gradientText {
      0%, 100% { background-position: 0% 50%; }
      50%      { background-position: 100% 50%; }
    }
    .brand p {
      font-size: .78rem; color: var(--text-tertiary); margin-top: 6px;
      letter-spacing: .02em;
    }

    /* Animated divider beneath brand */
    .brand-divider {
      width: 48px; height: 2px; margin: 0 auto;
      border-radius: 2px;
      background: linear-gradient(90deg, var(--primary), var(--accent));
      opacity: 0;
      animation: dividerGrow .6s .5s var(--ease-out) forwards;
      position: relative; z-index: 2;
      margin-bottom: 32px;
    }
    @keyframes dividerGrow {
      from { opacity: 0; width: 0; }
      to   { opacity: .5; width: 48px; }
    }

    /* ═══════════════════════════════════════════════════════════════
       TAB TOGGLE — Animated underline switch
       ═══════════════════════════════════════════════════════════════ */
    .tab-toggle {
      display: flex;
      background: var(--bg-input);
      border-radius: var(--radius-xs);
      padding: 4px;
      margin-bottom: 28px;
      border: 1px solid var(--border);
      position: relative; z-index: 2;
      /* Stagger */
      opacity: 0;
      animation: staggerUp .6s .48s var(--ease-out) forwards;
      overflow: hidden;
    }
    /* Sliding indicator background */
    .tab-slider {
      position: absolute;
      top: 4px; bottom: 4px; left: 4px;
      width: calc(50% - 4px);
      background: linear-gradient(135deg, var(--primary), var(--primary-dark));
      border-radius: 6px;
      box-shadow: 0 2px 16px var(--primary-glow), inset 0 1px 0 rgba(255,255,255,.1);
      transition: transform .4s var(--ease-spring);
      z-index: 0;
      will-change: transform;
    }
    .tab-slider.at-signup {
      transform: translateX(100%);
    }

    .tab-toggle button {
      flex: 1; padding: 12px 16px; border: none; background: none;
      font-family: inherit; font-size: .85rem; font-weight: 600;
      color: var(--text-tertiary); cursor: pointer; border-radius: 6px;
      transition: color .3s var(--ease-out);
      position: relative; z-index: 1;
    }
    .tab-toggle button:hover:not(.active) {
      color: var(--text-secondary);
    }
    .tab-toggle button.active {
      color: #fff;
    }

    /* ═══════════════════════════════════════════════════════════════
       FORMS — Entrance & transitions
       ═══════════════════════════════════════════════════════════════ */
    .auth-form { display: none; position: relative; z-index: 2; }
    .auth-form.active {
      display: block;
      animation: formReveal .45s var(--ease-out);
    }
    @keyframes formReveal {
      from { opacity: 0; transform: translateY(10px) scale(.99); filter: blur(3px); }
      to   { opacity: 1; transform: translateY(0) scale(1); filter: blur(0); }
    }

    /* Form field stagger — set via JS */
    .form-field {
      margin-bottom: 20px;
      opacity: 0;
      animation: fieldSlideIn .5s var(--field-delay, 0s) var(--ease-out) forwards;
    }
    @keyframes fieldSlideIn {
      from { opacity: 0; transform: translateY(12px); }
      to   { opacity: 1; transform: translateY(0); }
    }

    /* ═══════════════════════════════════════════════════════════════
       INPUT FIELDS — Premium micro-interactions
       ═══════════════════════════════════════════════════════════════ */
    .form-field label {
      display: block; font-size: .7rem; font-weight: 700;
      text-transform: uppercase; letter-spacing: .06em;
      color: var(--text-tertiary);
      margin-bottom: 8px;
      transition: color .3s ease;
    }
    .form-field:focus-within label {
      color: var(--primary-light);
    }
    .input-wrap {
      position: relative;
    }
    /* Animated underline */
    .input-wrap::after {
      content: '';
      position: absolute; bottom: 0; left: 50%; right: 50%;
      height: 2px;
      background: linear-gradient(90deg, var(--primary), var(--accent));
      border-radius: 0 0 var(--radius-xs) var(--radius-xs);
      transition: left .35s var(--ease-out), right .35s var(--ease-out);
      z-index: 2;
    }
    .input-wrap:focus-within::after {
      left: 0; right: 0;
    }

    .input-wrap input {
      width: 100%; padding: 14px 18px; padding-right: 46px;
      background: var(--bg-input);
      border: 1px solid var(--border);
      border-radius: var(--radius-xs);
      color: var(--text-primary);
      font-family: inherit; font-size: .9rem;
      outline: none;
      transition:
        border-color .3s ease,
        box-shadow .3s ease,
        transform .3s var(--ease-spring),
        background .3s ease;
      will-change: transform;
    }
    .input-wrap input::placeholder {
      color: var(--text-faint);
      transition: color .3s ease, transform .3s ease;
    }
    .input-wrap input:focus::placeholder {
      color: transparent;
      transform: translateX(8px);
    }
    .input-wrap input:focus {
      border-color: rgba(109,92,255,.3);
      box-shadow:
        0 0 0 3px rgba(109,92,255,.1),
        0 0 32px -8px rgba(109,92,255,.12),
        inset 0 0 0 1px rgba(109,92,255,.05);
      transform: translateY(-1px);
      background: var(--bg-input-focus);
    }
    /* Input valid state glow */
    .input-wrap input:not(:placeholder-shown):valid {
      border-color: rgba(0,229,160,.15);
    }

    .input-wrap .toggle-pw {
      position: absolute; right: 14px; top: 50%; transform: translateY(-50%);
      background: none; border: none; cursor: pointer; font-size: 1rem;
      color: var(--text-faint); padding: 4px;
      transition: color .2s ease, transform .2s var(--ease-spring);
      line-height: 1;
    }
    .input-wrap .toggle-pw:hover {
      color: var(--text-secondary);
      transform: translateY(-50%) scale(1.15);
    }

    /* ═══════════════════════════════════════════════════════════════
       PASSWORD STRENGTH — Animated bars
       ═══════════════════════════════════════════════════════════════ */
    .pw-strength {
      margin-top: 10px; display: flex; gap: 5px;
    }
    .pw-strength .bar {
      flex: 1; height: 3px; border-radius: 3px;
      background: var(--border-subtle);
      transition: background .4s ease, transform .3s var(--ease-spring), box-shadow .4s ease;
      transform-origin: left center;
    }
    .pw-strength .bar.weak {
      background: var(--danger);
      box-shadow: 0 0 8px rgba(255,92,124,.3);
      transform: scaleY(1.4);
    }
    .pw-strength .bar.medium {
      background: var(--warning);
      box-shadow: 0 0 8px rgba(255,192,68,.2);
      transform: scaleY(1.4);
    }
    .pw-strength .bar.strong {
      background: var(--accent);
      box-shadow: 0 0 8px var(--accent-glow);
      transform: scaleY(1.4);
    }
    .pw-label {
      font-size: .68rem; color: var(--text-tertiary); margin-top: 6px;
      font-weight: 600; letter-spacing: .03em;
      transition: color .3s ease;
    }

    /* ═══════════════════════════════════════════════════════════════
       SUBMIT BUTTON — Elite hover system
       ═══════════════════════════════════════════════════════════════ */
    .submit-btn {
      width: 100%; padding: 16px 24px; border: none;
      background: linear-gradient(135deg, var(--primary), var(--primary-dark));
      color: #fff; font-family: inherit; font-size: .92rem; font-weight: 700;
      letter-spacing: .01em;
      border-radius: var(--radius-xs); cursor: pointer;
      box-shadow:
        0 4px 20px var(--primary-glow),
        inset 0 1px 0 rgba(255,255,255,.12),
        0 0 0 1px rgba(109,92,255,.15);
      display: flex; align-items: center;
      justify-content: center; gap: 8px; margin-top: 12px;
      position: relative; overflow: hidden;
      transition:
        transform .35s var(--ease-spring),
        box-shadow .35s var(--ease-spring),
        filter .25s ease;
      will-change: transform;
      /* Stagger entrance */
      opacity: 0;
      animation: staggerUp .6s .7s var(--ease-out) forwards;
    }
    /* Gradient sweep overlay */
    .submit-btn::before {
      content: '';
      position: absolute; inset: 0;
      background: linear-gradient(105deg,
        transparent 0%, transparent 35%,
        rgba(255,255,255,.12) 45%, rgba(255,255,255,.15) 50%,
        rgba(255,255,255,.12) 55%, transparent 65%, transparent 100%);
      transform: translateX(-110%);
      transition: transform .6s var(--ease-out);
    }
    /* Glow layer */
    .submit-btn::after {
      content: '';
      position: absolute; inset: -3px;
      border-radius: inherit;
      background: linear-gradient(135deg, var(--primary), var(--accent));
      opacity: 0; z-index: -1;
      filter: blur(20px);
      transition: opacity .35s ease;
    }

    .submit-btn:hover {
      transform: translateY(-3px) scale(1.015);
      box-shadow:
        0 12px 40px var(--primary-glow),
        inset 0 1px 0 rgba(255,255,255,.18),
        0 0 0 1px rgba(109,92,255,.25);
      filter: brightness(1.1);
    }
    .submit-btn:hover::before {
      transform: translateX(110%);
    }
    .submit-btn:hover::after {
      opacity: .4;
    }
    .submit-btn:active {
      transform: translateY(1px) scale(.975);
      transition-duration: 80ms;
      box-shadow:
        0 2px 12px var(--primary-glow),
        inset 0 2px 4px rgba(0,0,0,.2);
    }
    .submit-btn:disabled {
      opacity: .4; cursor: not-allowed;
      transform: none; filter: none;
      box-shadow: none;
    }

    /* Ripple */
    .btn-ripple {
      position: absolute; border-radius: 50%;
      background: rgba(255,255,255,.25);
      transform: scale(0);
      animation: rippleExpand .6s var(--ease-out) forwards;
      pointer-events: none;
    }
    @keyframes rippleExpand {
      to { transform: scale(4); opacity: 0; }
    }

    .submit-btn .spinner {
      width: 18px; height: 18px;
      border: 2.5px solid rgba(255,255,255,.25);
      border-top-color: #fff;
      border-radius: 50%;
      animation: spin .65s linear infinite;
      display: none;
    }
    .submit-btn.loading .spinner { display: block; }
    .submit-btn.loading .btn-text { display: none; }
    @keyframes spin { to { transform: rotate(360deg) } }

    /* ═══════════════════════════════════════════════════════════════
       MESSAGES — Error & Success
       ═══════════════════════════════════════════════════════════════ */
    .error-msg {
      background: rgba(255,92,124,.08);
      border: 1px solid rgba(255,92,124,.15);
      color: var(--danger); font-size: .8rem; font-weight: 500;
      padding: 12px 16px;
      border-radius: var(--radius-xs); margin-bottom: 16px;
      display: none;
      position: relative; z-index: 2;
      backdrop-filter: blur(8px);
    }
    .error-msg.show {
      display: flex; align-items: center; gap: 8px;
      animation: errorIn .5s var(--ease-spring);
    }
    .error-msg::before {
      content: '⚠'; font-size: .9rem; flex-shrink: 0;
    }
    @keyframes errorIn {
      0%   { opacity: 0; transform: translateY(-8px) scale(.95); }
      30%  { transform: translateX(-6px) scale(1); }
      50%  { transform: translateX(5px); }
      70%  { transform: translateX(-3px); }
      85%  { transform: translateX(2px); }
      100% { opacity: 1; transform: translateX(0); }
    }

    .success-msg {
      background: rgba(0,229,160,.06);
      border: 1px solid rgba(0,229,160,.15);
      color: var(--accent); font-size: .8rem; font-weight: 500;
      padding: 12px 16px;
      border-radius: var(--radius-xs); margin-bottom: 16px;
      display: none;
      position: relative; z-index: 2;
      backdrop-filter: blur(8px);
    }
    .success-msg.show {
      display: flex; align-items: center; gap: 8px;
      animation: successIn .5s var(--ease-spring);
    }
    .success-msg::before {
      content: '✓'; font-size: .95rem; font-weight: 700; flex-shrink: 0;
    }
    @keyframes successIn {
      0%   { opacity: 0; transform: translateY(-8px) scale(.9); }
      60%  { transform: translateY(0) scale(1.03); }
      100% { opacity: 1; transform: scale(1); }
    }

    /* ═══════════════════════════════════════════════════════════════
       FOOTER
       ═══════════════════════════════════════════════════════════════ */
    .auth-footer {
      text-align: center; font-size: .73rem; color: var(--text-faint);
      margin-top: 28px; position: relative; z-index: 2;
      opacity: 0;
      animation: staggerUp .5s .85s var(--ease-out) forwards;
    }
    .auth-footer a {
      color: var(--text-tertiary); text-decoration: none; font-weight: 600;
      position: relative;
      transition: color .3s ease;
    }
    .auth-footer a::after {
      content: '';
      position: absolute; bottom: -2px; left: 0; right: 100%;
      height: 1px;
      background: linear-gradient(90deg, var(--primary), var(--accent));
      transition: right .4s var(--ease-out);
    }
    .auth-footer a:hover {
      color: var(--primary-light);
    }
    .auth-footer a:hover::after {
      right: 0;
    }

    /* ═══════════════════════════════════════════════════════════════
       SECURITY BADGES (visual only)
       ═══════════════════════════════════════════════════════════════ */
    .security-badges {
      display: flex; justify-content: center; gap: 20px;
      margin-top: 16px; position: relative; z-index: 2;
      opacity: 0;
      animation: staggerUp .5s .9s var(--ease-out) forwards;
    }
    .badge {
      display: flex; align-items: center; gap: 5px;
      font-size: .65rem; color: var(--text-faint);
      letter-spacing: .02em;
    }
    .badge-dot {
      width: 5px; height: 5px; border-radius: 50%;
      background: var(--accent);
      box-shadow: 0 0 6px var(--accent-glow);
      animation: dotPulse 3s ease-in-out infinite;
    }
    @keyframes dotPulse {
      0%, 100% { opacity: .5; transform: scale(1); }
      50%      { opacity: 1; transform: scale(1.3); }
    }

    /* ═══════════════════════════════════════════════════════════════
       SCROLLBAR
       ═══════════════════════════════════════════════════════════════ */
    ::-webkit-scrollbar { width: 5px; }
    ::-webkit-scrollbar-track { background: transparent; }
    ::-webkit-scrollbar-thumb {
      background: linear-gradient(180deg, rgba(109,92,255,.4), rgba(0,229,160,.3));
      border-radius: 4px;
    }
    ::-webkit-scrollbar-thumb:hover {
      background: linear-gradient(180deg, rgba(109,92,255,.6), rgba(0,229,160,.5));
    }

    /* ═══════════════════════════════════════════════════════════════
       SCROLL PROGRESS BAR — Top of page
       ═══════════════════════════════════════════════════════════════ */
    .scroll-progress {
      position: fixed; top: 0; left: 0; z-index: 9999;
      height: 3px; width: 0%;
      background: linear-gradient(90deg, var(--primary), var(--accent), var(--cyan));
      box-shadow: 0 0 12px var(--primary-glow), 0 0 4px var(--accent-glow);
      transition: width .1s linear;
      border-radius: 0 2px 2px 0;
    }

    /* ═══════════════════════════════════════════════════════════════
       HERO SECTION — Project Showcase
       ═══════════════════════════════════════════════════════════════ */
    .hero-section {
      position: relative; z-index: 10;
      width: 100%; max-width: 900px;
      min-height: 100vh;
      display: flex; flex-direction: column;
      align-items: center; justify-content: center;
      padding: 60px 24px 40px;
      text-align: center;
    }

    .hero-badge {
      display: inline-flex; align-items: center; gap: 8px;
      padding: 8px 18px;
      background: rgba(109,92,255,.08);
      border: 1px solid rgba(109,92,255,.15);
      border-radius: var(--radius-pill);
      font-size: .72rem; font-weight: 600;
      color: var(--primary-light);
      text-transform: uppercase; letter-spacing: .08em;
      margin-bottom: 32px;
      backdrop-filter: blur(12px);
      opacity: 0; transform: translateY(20px);
      animation: heroFadeUp .8s .2s var(--ease-out) forwards;
    }
    .hero-badge .pulse-dot {
      width: 6px; height: 6px; border-radius: 50%;
      background: var(--accent);
      animation: dotPulse 2s ease-in-out infinite;
    }

    .hero-title {
      font-size: clamp(2.2rem, 5vw, 3.8rem);
      font-weight: 800; letter-spacing: -.04em;
      line-height: 1.1;
      margin-bottom: 20px;
      background: linear-gradient(135deg, #fff 0%, var(--primary-light) 40%, var(--accent) 70%, var(--cyan) 100%);
      background-size: 300% 300%;
      -webkit-background-clip: text; background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: heroFadeUp .8s .35s var(--ease-out) forwards, gradientText 8s ease-in-out infinite;
      opacity: 0; transform: translateY(30px);
    }

    .hero-subtitle {
      font-size: clamp(.95rem, 1.5vw, 1.15rem);
      color: var(--text-secondary);
      max-width: 560px;
      line-height: 1.7;
      margin-bottom: 40px;
      opacity: 0; transform: translateY(20px);
      animation: heroFadeUp .8s .5s var(--ease-out) forwards;
    }
    .hero-subtitle strong {
      color: var(--primary-light); font-weight: 700;
    }

    .hero-stats {
      display: flex; gap: 40px; flex-wrap: wrap;
      justify-content: center;
      margin-bottom: 48px;
      opacity: 0; transform: translateY(20px);
      animation: heroFadeUp .8s .65s var(--ease-out) forwards;
    }
    .hero-stat {
      text-align: center;
    }
    .hero-stat .stat-value {
      font-size: 2rem; font-weight: 800;
      font-family: var(--font-mono);
      background: linear-gradient(135deg, var(--primary-light), var(--accent));
      -webkit-background-clip: text; background-clip: text;
      -webkit-text-fill-color: transparent;
      line-height: 1.2;
    }
    .hero-stat .stat-label {
      font-size: .7rem; color: var(--text-tertiary);
      text-transform: uppercase; letter-spacing: .06em;
      margin-top: 4px; font-weight: 600;
    }

    .hero-cta {
      display: inline-flex; align-items: center; gap: 10px;
      padding: 14px 32px;
      background: linear-gradient(135deg, var(--primary), var(--primary-dark));
      border: none; border-radius: var(--radius-pill);
      color: #fff; font-family: inherit;
      font-size: .9rem; font-weight: 700;
      cursor: pointer; text-decoration: none;
      box-shadow: 0 4px 24px var(--primary-glow), 0 0 0 1px rgba(109,92,255,.15);
      transition: transform .35s var(--ease-spring), box-shadow .35s ease, filter .25s ease;
      position: relative; overflow: hidden;
      opacity: 0; transform: translateY(20px);
      animation: heroFadeUp .8s .8s var(--ease-out) forwards;
    }
    .hero-cta:hover {
      transform: translateY(-3px) scale(1.04);
      box-shadow: 0 12px 48px var(--primary-glow), 0 0 0 1px rgba(109,92,255,.25);
      filter: brightness(1.12);
    }
    .hero-cta:active {
      transform: translateY(1px) scale(.97);
    }
    .hero-cta .cta-arrow {
      transition: transform .3s var(--ease-spring);
      font-size: 1.1rem;
    }
    .hero-cta:hover .cta-arrow {
      transform: translateX(4px);
    }

    @keyframes heroFadeUp {
      to { opacity: 1; transform: translateY(0); }
    }

    /* Scroll indicator */
    .scroll-indicator {
      position: absolute; bottom: 32px; left: 50%;
      transform: translateX(-50%);
      display: flex; flex-direction: column; align-items: center; gap: 8px;
      opacity: 0;
      animation: heroFadeUp .8s 1.2s var(--ease-out) forwards;
      cursor: pointer;
      z-index: 10;
    }
    .scroll-indicator span {
      font-size: .65rem; color: var(--text-faint);
      text-transform: uppercase; letter-spacing: .12em;
      font-weight: 600;
    }
    .scroll-mouse {
      width: 22px; height: 34px;
      border: 2px solid rgba(109,92,255,.25);
      border-radius: 12px;
      position: relative;
    }
    .scroll-mouse::after {
      content: '';
      position: absolute; top: 6px; left: 50%;
      width: 3px; height: 8px; margin-left: -1.5px;
      background: var(--primary-light);
      border-radius: 3px;
      animation: scrollWheel 2s ease-in-out infinite;
    }
    @keyframes scrollWheel {
      0%   { opacity: 1; transform: translateY(0); }
      60%  { opacity: .2; transform: translateY(12px); }
      100% { opacity: 1; transform: translateY(0); }
    }

    /* ═══════════════════════════════════════════════════════════════
       FEATURES SECTION — Project Capabilities
       ═══════════════════════════════════════════════════════════════ */
    .features-section {
      position: relative; z-index: 10;
      width: 100%; max-width: 960px;
      padding: 60px 24px 80px;
    }
    .features-header {
      text-align: center; margin-bottom: 56px;
    }
    .features-label {
      display: inline-block;
      font-size: .68rem; font-weight: 700;
      text-transform: uppercase; letter-spacing: .1em;
      color: var(--accent);
      margin-bottom: 14px;
    }
    .features-title {
      font-size: clamp(1.5rem, 3vw, 2.2rem);
      font-weight: 800; letter-spacing: -.03em;
      color: var(--text-primary);
      margin-bottom: 12px;
    }
    .features-desc {
      color: var(--text-tertiary);
      font-size: .88rem; max-width: 480px;
      margin: 0 auto; line-height: 1.6;
    }

    .features-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 20px;
    }

    .feature-card {
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 32px 28px;
      backdrop-filter: blur(20px);
      position: relative; overflow: hidden;
      transition: transform .4s var(--ease-spring),
                  border-color .3s ease,
                  box-shadow .4s ease;
      cursor: default;
    }
    .feature-card::before {
      content: '';
      position: absolute; top: 0; left: 0; right: 0;
      height: 2px;
      background: linear-gradient(90deg, var(--card-accent, var(--primary)), transparent);
      opacity: 0;
      transition: opacity .4s ease;
    }
    .feature-card:hover {
      transform: translateY(-6px) scale(1.02);
      border-color: rgba(109,92,255,.12);
      box-shadow: 0 20px 60px -12px rgba(0,0,0,.4), var(--shadow-glow);
    }
    .feature-card:hover::before {
      opacity: 1;
    }
    .feature-card .card-icon {
      width: 48px; height: 48px;
      border-radius: var(--radius-sm);
      display: grid; place-items: center;
      font-size: 1.3rem;
      margin-bottom: 20px;
      background: var(--card-accent-bg, rgba(109,92,255,.1));
      border: 1px solid var(--card-accent-border, rgba(109,92,255,.12));
      box-shadow: 0 4px 16px var(--card-accent-shadow, rgba(109,92,255,.1));
      transition: transform .3s var(--ease-spring);
    }
    .feature-card:hover .card-icon {
      transform: scale(1.1) rotate(-3deg);
    }
    .feature-card h3 {
      font-size: .95rem; font-weight: 700;
      color: var(--text-primary);
      margin-bottom: 8px;
    }
    .feature-card p {
      font-size: .78rem; color: var(--text-tertiary);
      line-height: 1.6;
    }
    .feature-card .card-tag {
      display: inline-block; margin-top: 14px;
      padding: 4px 10px;
      background: var(--card-accent-bg, rgba(109,92,255,.06));
      border-radius: var(--radius-pill);
      font-size: .62rem; font-weight: 700;
      color: var(--card-accent-tag, var(--primary-light));
      text-transform: uppercase; letter-spacing: .08em;
    }

    /* Card color variants */
    .feature-card[data-accent="green"] {
      --card-accent: var(--accent);
      --card-accent-bg: rgba(0,229,160,.08);
      --card-accent-border: rgba(0,229,160,.12);
      --card-accent-shadow: rgba(0,229,160,.1);
      --card-accent-tag: var(--accent);
    }
    .feature-card[data-accent="cyan"] {
      --card-accent: var(--cyan);
      --card-accent-bg: rgba(62,168,255,.08);
      --card-accent-border: rgba(62,168,255,.12);
      --card-accent-shadow: rgba(62,168,255,.1);
      --card-accent-tag: var(--cyan);
    }
    .feature-card[data-accent="pink"] {
      --card-accent: var(--danger);
      --card-accent-bg: rgba(255,92,124,.07);
      --card-accent-border: rgba(255,92,124,.12);
      --card-accent-shadow: rgba(255,92,124,.1);
      --card-accent-tag: var(--danger);
    }
    .feature-card[data-accent="gold"] {
      --card-accent: var(--warning);
      --card-accent-bg: rgba(255,192,68,.07);
      --card-accent-border: rgba(255,192,68,.12);
      --card-accent-shadow: rgba(255,192,68,.1);
      --card-accent-tag: var(--warning);
    }

    /* ═══════════════════════════════════════════════════════════════
       TECH STACK SECTION
       ═══════════════════════════════════════════════════════════════ */
    .tech-section {
      position: relative; z-index: 10;
      width: 100%; max-width: 960px;
      padding: 40px 24px 80px;
      text-align: center;
    }
    .tech-label {
      font-size: .68rem; font-weight: 700;
      text-transform: uppercase; letter-spacing: .1em;
      color: var(--cyan);
      margin-bottom: 28px; display: block;
    }
    .tech-pills {
      display: flex; flex-wrap: wrap; justify-content: center; gap: 10px;
    }
    .tech-pill {
      display: inline-flex; align-items: center; gap: 6px;
      padding: 8px 16px;
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: var(--radius-pill);
      font-size: .75rem; font-weight: 600;
      color: var(--text-secondary);
      transition: transform .3s var(--ease-spring),
                  border-color .3s ease,
                  box-shadow .3s ease;
      backdrop-filter: blur(12px);
    }
    .tech-pill:hover {
      transform: translateY(-3px) scale(1.05);
      border-color: rgba(109,92,255,.15);
      box-shadow: 0 8px 24px rgba(0,0,0,.2);
    }
    .tech-pill .pill-icon {
      font-size: .9rem;
    }

    /* ═══════════════════════════════════════════════════════════════
       SECTION DIVIDER
       ═══════════════════════════════════════════════════════════════ */
    .section-divider {
      width: 100%; max-width: 600px;
      height: 1px; border: none;
      background: linear-gradient(90deg, transparent, rgba(109,92,255,.15), rgba(0,229,160,.1), transparent);
      margin: 0 auto;
    }

    /* ═══════════════════════════════════════════════════════════════
       AUTH SECTION WRAPPER — Centered auth card
       ═══════════════════════════════════════════════════════════════ */
    .auth-section {
      position: relative; z-index: 10;
      width: 100%;
      display: flex; justify-content: center;
      padding: 60px 0 80px;
      min-height: 100vh;
      align-items: center;
    }

    /* ═══════════════════════════════════════════════════════════════
       BACK TO TOP — Floating button
       ═══════════════════════════════════════════════════════════════ */
    .back-to-top {
      position: fixed; bottom: 28px; right: 28px;
      z-index: 9999;
      width: 44px; height: 44px;
      background: linear-gradient(135deg, var(--primary), var(--primary-dark));
      border: 1px solid rgba(109,92,255,.2);
      border-radius: 50%;
      display: grid; place-items: center;
      cursor: pointer;
      box-shadow: 0 4px 24px var(--primary-glow);
      opacity: 0; pointer-events: none;
      transform: translateY(16px) scale(.8);
      transition: opacity .4s var(--ease-out), transform .4s var(--ease-spring),
                  box-shadow .3s ease, background .3s ease;
    }
    .back-to-top.visible {
      opacity: 1; pointer-events: all;
      transform: translateY(0) scale(1);
    }
    .back-to-top:hover {
      transform: translateY(-3px) scale(1.1);
      box-shadow: 0 8px 32px var(--primary-glow);
    }
    .back-to-top:active {
      transform: translateY(1px) scale(.95);
    }
    .back-to-top svg {
      width: 18px; height: 18px;
      fill: none; stroke: #fff; stroke-width: 2.5;
      stroke-linecap: round; stroke-linejoin: round;
    }

    /* ═══════════════════════════════════════════════════════════════
       SCROLL REVEAL — IntersectionObserver targets
       ═══════════════════════════════════════════════════════════════ */
    .reveal {
      opacity: 0;
      transform: translateY(32px);
      transition: opacity .7s var(--ease-out), transform .7s var(--ease-out);
    }
    .reveal.visible {
      opacity: 1;
      transform: translateY(0);
    }
    .reveal-left {
      opacity: 0;
      transform: translateX(-40px);
      transition: opacity .7s var(--ease-out), transform .7s var(--ease-out);
    }
    .reveal-left.visible {
      opacity: 1;
      transform: translateX(0);
    }
    .reveal-right {
      opacity: 0;
      transform: translateX(40px);
      transition: opacity .7s var(--ease-out), transform .7s var(--ease-out);
    }
    .reveal-right.visible {
      opacity: 1;
      transform: translateX(0);
    }
    .reveal-scale {
      opacity: 0;
      transform: scale(.85);
      transition: opacity .6s var(--ease-out), transform .6s var(--ease-spring);
    }
    .reveal-scale.visible {
      opacity: 1;
      transform: scale(1);
    }
    /* Stagger children inside a reveal group */
    .reveal-stagger > * {
      opacity: 0;
      transform: translateY(24px);
      transition: opacity .5s var(--ease-out), transform .5s var(--ease-out);
    }
    .reveal-stagger.visible > * {
      opacity: 1;
      transform: translateY(0);
    }
    .reveal-stagger.visible > *:nth-child(1) { transition-delay: .05s; }
    .reveal-stagger.visible > *:nth-child(2) { transition-delay: .12s; }
    .reveal-stagger.visible > *:nth-child(3) { transition-delay: .19s; }
    .reveal-stagger.visible > *:nth-child(4) { transition-delay: .26s; }
    .reveal-stagger.visible > *:nth-child(5) { transition-delay: .33s; }
    .reveal-stagger.visible > *:nth-child(6) { transition-delay: .40s; }
    .reveal-stagger.visible > *:nth-child(7) { transition-delay: .47s; }
    .reveal-stagger.visible > *:nth-child(8) { transition-delay: .54s; }
    .reveal-stagger.visible > *:nth-child(9) { transition-delay: .61s; }
    .reveal-stagger.visible > *:nth-child(10) { transition-delay: .68s; }

    /* ═══════════════════════════════════════════════════════════════
       SECTION NAV DOTS — Right side
       ═══════════════════════════════════════════════════════════════ */
    .section-nav {
      position: fixed; right: 20px; top: 50%;
      transform: translateY(-50%);
      z-index: 9999;
      display: flex; flex-direction: column; gap: 12px;
    }
    .section-nav a {
      width: 10px; height: 10px;
      border-radius: 50%;
      background: rgba(255,255,255,.12);
      border: 1.5px solid rgba(255,255,255,.08);
      transition: background .3s ease, transform .3s var(--ease-spring),
                  box-shadow .3s ease, border-color .3s ease;
      display: block;
      position: relative;
    }
    .section-nav a:hover {
      transform: scale(1.4);
      background: rgba(109,92,255,.3);
    }
    .section-nav a.active {
      background: var(--primary);
      border-color: rgba(109,92,255,.4);
      box-shadow: 0 0 12px var(--primary-glow);
      transform: scale(1.3);
    }
    .section-nav a .nav-tooltip {
      position: absolute; right: 22px; top: 50%;
      transform: translateY(-50%) translateX(6px);
      white-space: nowrap;
      font-size: .65rem; font-weight: 600;
      color: var(--text-secondary);
      background: var(--bg-card);
      border: 1px solid var(--border);
      padding: 4px 10px;
      border-radius: var(--radius-xs);
      opacity: 0; pointer-events: none;
      transition: opacity .3s ease, transform .3s var(--ease-spring);
      backdrop-filter: blur(12px);
    }
    .section-nav a:hover .nav-tooltip {
      opacity: 1;
      transform: translateY(-50%) translateX(0);
    }

    @media (max-width: 520px) {
      .section-nav { display: none; }
      .hero-stats { gap: 24px; }
      .hero-title { font-size: 1.8rem; }
      .features-grid { grid-template-columns: 1fr; }
      .tech-pills { gap: 6px; }
      .tech-pill { padding: 6px 12px; font-size: .7rem; }
    }

    /* ═══════════════════════════════════════════════════════════════
       FOCUS VISIBLE
       ═══════════════════════════════════════════════════════════════ */
    :focus-visible {
      outline: 2px solid var(--primary);
      outline-offset: 3px;
      border-radius: var(--radius-xs);
    }
    /* Override for inputs */
    .input-wrap input:focus-visible { outline: none; }

    /* ═══════════════════════════════════════════════════════════════
       RESPONSIVE
       ═══════════════════════════════════════════════════════════════ */
    @media (max-width: 520px) {
      .auth-wrapper { padding: 16px; }
      .auth-card { padding: 36px 28px 32px; }
      .brand-logo { width: 56px; height: 56px; font-size: 20px; }
      .brand h2 { font-size: 1.2rem; }
      .tab-toggle button { padding: 10px 12px; font-size: .82rem; }
      .input-wrap input { padding: 12px 14px; font-size: .87rem; }
      .submit-btn { padding: 14px 20px; }
      .security-badges { gap: 14px; }
    }

    /* ═══════════════════════════════════════════════════════════════
       REDUCED MOTION — ACCESSIBILITY
       ═══════════════════════════════════════════════════════════════ */
    @media (prefers-reduced-motion: reduce) {
      *, *::before, *::after {
        animation-duration: .01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: .01ms !important;
      }
      .ambient .orb { animation: none !important; opacity: .06; }
      .mesh-gradient { animation: none !important; }
      .grid-bg { animation: none !important; opacity: 1; }
      #particleCanvas { display: none; }
      .auth-wrapper, .brand > *, .tab-toggle, .form-field,
      .submit-btn, .auth-footer, .security-badges, .brand-divider {
        opacity: 1 !important;
        animation: none !important;
      }
    }
  </style>
</head>
<body>
  <!-- ═══ Background Layers ═══ -->
  <div class="bg-void"></div>
  <div class="ambient"><div class="orb"></div><div class="orb"></div><div class="orb"></div><div class="orb"></div></div>
  <div class="grid-bg"></div>
  <div class="mesh-gradient"></div>
  <canvas id="particleCanvas" aria-hidden="true"></canvas>
  <div class="spotlight" id="spotlight"></div>

  <!-- ═══ Scroll Progress Bar ═══ -->
  <div class="scroll-progress" id="scrollProgress"></div>

  <!-- ═══ Section Navigation Dots ═══ -->
  <nav class="section-nav" id="sectionNav">
    <a href="#hero" class="active"><span class="nav-tooltip">Home</span></a>
    <a href="#features"><span class="nav-tooltip">Features</span></a>
    <a href="#tech"><span class="nav-tooltip">Tech Stack</span></a>
    <a href="#auth"><span class="nav-tooltip">Sign In</span></a>
  </nav>

  <!-- ═══════════════════════════════════════════════════════════════
       HERO SECTION — Project Showcase
       ═══════════════════════════════════════════════════════════════ -->
  <section class="hero-section" id="hero">
    <div class="hero-badge">
      <span class="pulse-dot"></span>
      Capstone Project 2026
    </div>

    <h1 class="hero-title">Option Pricing Using<br/>Monte Carlo &amp; Deep Learning</h1>

    <p class="hero-subtitle">
      A production-grade financial engineering platform that fuses
      <strong>stochastic simulation</strong> with
      <strong>LSTM &amp; Transformer networks</strong> to price options,
      compute Greeks, and manage portfolio risk in real time.
    </p>

    <div class="hero-stats">
      <div class="hero-stat">
        <div class="stat-value" data-count="50000">50K</div>
        <div class="stat-label">MC Paths</div>
      </div>
      <div class="hero-stat">
        <div class="stat-value">LSTM</div>
        <div class="stat-label">Deep Learning</div>
      </div>
      <div class="hero-stat">
        <div class="stat-value">5+</div>
        <div class="stat-label">Greek Metrics</div>
      </div>
      <div class="hero-stat">
        <div class="stat-value">RAG</div>
        <div class="stat-label">AI Explainer</div>
      </div>
    </div>

    <a href="#auth" class="hero-cta">
      Get Started <span class="cta-arrow">&#8594;</span>
    </a>

    <div class="scroll-indicator" onclick="document.getElementById('features').scrollIntoView({behavior:'smooth'})">
      <div class="scroll-mouse"></div>
      <span>Scroll to explore</span>
    </div>
  </section>

  <!-- ═══ Section Divider ═══ -->
  <hr class="section-divider" />

  <!-- ═══════════════════════════════════════════════════════════════
       FEATURES SECTION — Capabilities
       ═══════════════════════════════════════════════════════════════ -->
  <section class="features-section" id="features">
    <div class="features-header reveal">
      <span class="features-label">Platform Capabilities</span>
      <h2 class="features-title">Everything You Need for<br/>Quantitative Finance</h2>
      <p class="features-desc">Six powerful engines working together to deliver institutional-grade option analytics</p>
    </div>

    <div class="features-grid reveal-stagger">
      <div class="feature-card" data-accent="green">
        <div class="card-icon">&#9881;</div>
        <h3>Monte Carlo Engine</h3>
        <p>Geometric Brownian Motion with antithetic variates, control variates, and Sobol sequences for variance reduction.</p>
        <span class="card-tag">50,000 Paths</span>
      </div>
      <div class="feature-card">
        <div class="card-icon">&#128200;</div>
        <h3>Deep Learning Models</h3>
        <p>LSTM and Transformer architectures trained on synthetic option data for ultra-fast price prediction with learned Greeks.</p>
        <span class="card-tag">LSTM + Transformer</span>
      </div>
      <div class="feature-card" data-accent="cyan">
        <div class="card-icon">&#916;</div>
        <h3>Greeks &amp; Sensitivities</h3>
        <p>Full suite of option Greeks — Delta, Gamma, Theta, Vega, Rho — computed analytically and via finite differences.</p>
        <span class="card-tag">5 Greeks</span>
      </div>
      <div class="feature-card" data-accent="pink">
        <div class="card-icon">&#127919;</div>
        <h3>Stochastic Volatility</h3>
        <p>Heston model with mean-reverting variance process, calibratable parameters, and volatility surface generation.</p>
        <span class="card-tag">Heston Model</span>
      </div>
      <div class="feature-card" data-accent="gold">
        <div class="card-icon">&#129302;</div>
        <h3>RAG AI Explainer</h3>
        <p>Enterprise-grade Retrieval-Augmented Generation system with semantic search, guardrails, and Gemini-powered explanations.</p>
        <span class="card-tag">LLM Powered</span>
      </div>
      <div class="feature-card" data-accent="cyan">
        <div class="card-icon">&#128274;</div>
        <h3>Enterprise Auth</h3>
        <p>JWT-based authentication with bcrypt hashing, token refresh, session management, and role-based access control.</p>
        <span class="card-tag">Production Ready</span>
      </div>
    </div>
  </section>

  <!-- ═══ Section Divider ═══ -->
  <hr class="section-divider" />

  <!-- ═══════════════════════════════════════════════════════════════
       TECH STACK SECTION
       ═══════════════════════════════════════════════════════════════ -->
  <section class="tech-section reveal" id="tech">
    <span class="tech-label">Built With Modern Stack</span>
    <div class="tech-pills reveal-stagger">
      <span class="tech-pill"><span class="pill-icon">&#9889;</span> FastAPI</span>
      <span class="tech-pill"><span class="pill-icon">&#128293;</span> PyTorch</span>
      <span class="tech-pill"><span class="pill-icon">&#128202;</span> NumPy</span>
      <span class="tech-pill"><span class="pill-icon">&#129518;</span> Uvicorn</span>
      <span class="tech-pill"><span class="pill-icon">&#127912;</span> HTML / CSS / JS</span>
      <span class="tech-pill"><span class="pill-icon">&#128064;</span> Gemini AI</span>
      <span class="tech-pill"><span class="pill-icon">&#128051;</span> Docker</span>
      <span class="tech-pill"><span class="pill-icon">&#128272;</span> JWT Auth</span>
      <span class="tech-pill"><span class="pill-icon">&#128640;</span> Monte Carlo</span>
      <span class="tech-pill"><span class="pill-icon">&#129504;</span> LSTM / Transformers</span>
    </div>
  </section>

  <!-- ═══ Section Divider ═══ -->
  <hr class="section-divider" />

  <!-- ═══ Auth Section ═══ -->
  <section class="auth-section" id="auth">
  <div class="auth-wrapper">
    <div class="auth-card" id="authCard">
      <!-- Corner glow accents -->
      <div class="corner-glow corner-glow--tl"></div>
      <div class="corner-glow corner-glow--tr"></div>
      <div class="corner-glow corner-glow--bl"></div>
      <div class="corner-glow corner-glow--br"></div>
      <!-- Mouse-follow glow -->
      <div class="card-glow-follow" id="cardGlow"></div>

      <div class="brand">
        <div class="brand-logo" id="brandLogo">OQ</div>
        <h2>OptionQuant</h2>
        <p>Monte Carlo &amp; Deep Learning Platform</p>
      </div>

      <div class="brand-divider"></div>

      <!-- Tabs -->
      <div class="tab-toggle" id="tabToggle">
        <div class="tab-slider" id="tabSlider"></div>
        <button class="active" id="tabLogin">Sign In</button>
        <button id="tabSignup">Create Account</button>
      </div>

      <!-- Error / Success -->
      <div class="error-msg" id="errorMsg"></div>
      <div class="success-msg" id="successMsg"></div>

      <!-- Login Form -->
      <form class="auth-form active" id="loginForm" autocomplete="on">
        <div class="form-field" style="--field-delay:.52s">
          <label for="loginUser">Username</label>
          <div class="input-wrap">
            <input type="text" id="loginUser" placeholder="Enter your username" required autocomplete="username" />
          </div>
        </div>
        <div class="form-field" style="--field-delay:.6s">
          <label for="loginPass">Password</label>
          <div class="input-wrap">
            <input type="password" id="loginPass" placeholder="Enter your password" required autocomplete="current-password" />
            <button type="button" class="toggle-pw" data-target="loginPass" aria-label="Toggle password visibility">👁</button>
          </div>
        </div>
        <button type="submit" class="submit-btn" id="loginBtn">
          <span class="spinner"></span>
          <span class="btn-text">Sign In →</span>
        </button>
      </form>

      <!-- Signup Form -->
      <form class="auth-form" id="signupForm" autocomplete="on">
        <div class="form-field" style="--field-delay:.1s">
          <label for="signupName">Full Name</label>
          <div class="input-wrap">
            <input type="text" id="signupName" placeholder="John Doe" required autocomplete="name" />
          </div>
        </div>
        <div class="form-field" style="--field-delay:.18s">
          <label for="signupUser">Username</label>
          <div class="input-wrap">
            <input type="text" id="signupUser" placeholder="Choose a username" required autocomplete="username" />
          </div>
        </div>
        <div class="form-field" style="--field-delay:.26s">
          <label for="signupEmail">Email</label>
          <div class="input-wrap">
            <input type="email" id="signupEmail" placeholder="you@example.com" required autocomplete="email" />
          </div>
        </div>
        <div class="form-field" style="--field-delay:.34s">
          <label for="signupPass">Password</label>
          <div class="input-wrap">
            <input type="password" id="signupPass" placeholder="Min 8 characters" required minlength="8" autocomplete="new-password" />
            <button type="button" class="toggle-pw" data-target="signupPass" aria-label="Toggle password visibility">👁</button>
          </div>
          <div class="pw-strength" id="pwStrength">
            <div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div>
          </div>
          <div class="pw-label" id="pwLabel"></div>
        </div>
        <div class="form-field" style="--field-delay:.42s">
          <label for="signupConfirm">Confirm Password</label>
          <div class="input-wrap">
            <input type="password" id="signupConfirm" placeholder="Re-enter password" required autocomplete="new-password" />
          </div>
        </div>
        <button type="submit" class="submit-btn" id="signupBtn">
          <span class="spinner"></span>
          <span class="btn-text">Create Account →</span>
        </button>
      </form>

      <div class="auth-footer">
        Powered by <a href="#">OptionQuant Engine v2.0</a>
      </div>

      <div class="security-badges">
        <span class="badge"><span class="badge-dot"></span> 256-bit Encrypted</span>
        <span class="badge"><span class="badge-dot"></span> SOC 2 Compliant</span>
        <span class="badge"><span class="badge-dot"></span> Enterprise Ready</span>
      </div>
    </div>
  </div>
  </section>

  <!-- ═══ Back to Top Button ═══ -->
  <button class="back-to-top" id="backToTop" aria-label="Back to top" onclick="window.scrollTo({top:0,behavior:'smooth'})">
    <svg viewBox="0 0 24 24"><polyline points="18 15 12 9 6 15"></polyline></svg>
  </button>

  <!-- ═══════════════════════════════════════════════════════════════
       PREMIUM MOTION SYSTEM — Visual-only enhancements
       No functional logic. No auth changes. Pure visual motion.
       ═══════════════════════════════════════════════════════════════ -->
  <script>
  (function premiumMotion() {
    'use strict';
    /* Respect reduced motion preference */
    const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

    /* ── 1. Particle Canvas — Floating light motes ───────────────── */
    if (!prefersReduced) {
      const canvas = document.getElementById('particleCanvas');
      if (canvas) {
        const ctx = canvas.getContext('2d');
        let W, H, particles = [], animId;
        const PARTICLE_COUNT = 50;
        const COLORS = [
          'rgba(109,92,255,', 'rgba(0,229,160,',
          'rgba(62,168,255,', 'rgba(255,92,124,'
        ];

        function resize() {
          W = canvas.width = window.innerWidth;
          H = canvas.height = window.innerHeight;
        }

        function createParticle() {
          const color = COLORS[Math.floor(Math.random() * COLORS.length)];
          return {
            x: Math.random() * W,
            y: Math.random() * H,
            vx: (Math.random() - .5) * .3,
            vy: (Math.random() - .5) * .3,
            r: Math.random() * 1.5 + .5,
            alpha: Math.random() * .4 + .1,
            alphaDir: (Math.random() - .5) * .005,
            color: color
          };
        }

        function initParticles() {
          particles = [];
          for (let i = 0; i < PARTICLE_COUNT; i++) particles.push(createParticle());
        }

        function drawParticles() {
          ctx.clearRect(0, 0, W, H);
          for (const p of particles) {
            p.x += p.vx;
            p.y += p.vy;
            p.alpha += p.alphaDir;
            if (p.alpha <= .05 || p.alpha >= .5) p.alphaDir *= -1;
            if (p.x < -10) p.x = W + 10;
            if (p.x > W + 10) p.x = -10;
            if (p.y < -10) p.y = H + 10;
            if (p.y > H + 10) p.y = -10;
            ctx.beginPath();
            ctx.arc(p.x, p.y, p.r, 0, Math.PI * 2);
            ctx.fillStyle = p.color + p.alpha.toFixed(2) + ')';
            ctx.fill();
          }
          animId = requestAnimationFrame(drawParticles);
        }

        resize();
        initParticles();
        drawParticles();
        window.addEventListener('resize', () => { resize(); initParticles(); });

        /* Pause particles when tab not visible */
        document.addEventListener('visibilitychange', () => {
          if (document.hidden) cancelAnimationFrame(animId);
          else drawParticles();
        });
      }
    }

    /* ── 2. Card 3D Tilt — Subtle perspective follow ─────────────── */
    const card = document.getElementById('authCard');
    const cardGlow = document.getElementById('cardGlow');

    if (card && !prefersReduced) {
      const MAX_TILT = 2.5; /* degrees */
      let tiltX = 0, tiltY = 0, targetTiltX = 0, targetTiltY = 0;
      let glowX = 50, glowY = 50, targetGlowX = 50, targetGlowY = 50;
      let tiltAnim;

      card.addEventListener('mousemove', (e) => {
        const rect = card.getBoundingClientRect();
        const cx = (e.clientX - rect.left) / rect.width;
        const cy = (e.clientY - rect.top) / rect.height;
        targetTiltX = (cy - .5) * -MAX_TILT;
        targetTiltY = (cx - .5) * MAX_TILT;
        targetGlowX = cx * 100;
        targetGlowY = cy * 100;
      });

      card.addEventListener('mouseleave', () => {
        targetTiltX = 0; targetTiltY = 0;
        targetGlowX = 50; targetGlowY = 50;
      });

      function animateTilt() {
        tiltX += (targetTiltX - tiltX) * .08;
        tiltY += (targetTiltY - tiltY) * .08;
        glowX += (targetGlowX - glowX) * .1;
        glowY += (targetGlowY - glowY) * .1;
        card.style.transform =
          'perspective(1200px) rotateX(' + tiltX.toFixed(2) + 'deg) rotateY(' + tiltY.toFixed(2) + 'deg)';
        if (cardGlow) {
          cardGlow.style.setProperty('--mx', glowX.toFixed(1) + '%');
          cardGlow.style.setProperty('--my', glowY.toFixed(1) + '%');
        }
        tiltAnim = requestAnimationFrame(animateTilt);
      }
      animateTilt();

      document.addEventListener('visibilitychange', () => {
        if (document.hidden) cancelAnimationFrame(tiltAnim);
        else animateTilt();
      });
    }

    /* ── 3. Tab Slider — Animated indicator ──────────────────────── */
    const tabSlider = document.getElementById('tabSlider');
    const tabLogin  = document.getElementById('tabLogin');
    const tabSignup = document.getElementById('tabSignup');

    if (tabSlider && tabLogin && tabSignup) {
      /* Listen to existing tab click logic via class observation */
      const observer = new MutationObserver(() => {
        if (tabSignup.classList.contains('active')) {
          tabSlider.classList.add('at-signup');
        } else {
          tabSlider.classList.remove('at-signup');
        }
      });
      observer.observe(tabLogin, { attributes: true, attributeFilter: ['class'] });
      observer.observe(tabSignup, { attributes: true, attributeFilter: ['class'] });
    }

    /* ── 4. Button Ripple Effect ─────────────────────────────────── */
    document.querySelectorAll('.submit-btn').forEach(btn => {
      btn.addEventListener('click', function(e) {
        if (btn.disabled) return;
        const rect = btn.getBoundingClientRect();
        const ripple = document.createElement('span');
        ripple.className = 'btn-ripple';
        const size = Math.max(rect.width, rect.height) * 2;
        ripple.style.width = ripple.style.height = size + 'px';
        ripple.style.left = (e.clientX - rect.left - size / 2) + 'px';
        ripple.style.top = (e.clientY - rect.top - size / 2) + 'px';
        btn.appendChild(ripple);
        ripple.addEventListener('animationend', () => ripple.remove());
      });
    });

    /* ── 5. Magnetic Hover Effect — Buttons ──────────────────────── */
    if (!prefersReduced) {
      document.querySelectorAll('.submit-btn').forEach(btn => {
        const PULL = 6; /* max px displacement */
        btn.addEventListener('mousemove', (e) => {
          const rect = btn.getBoundingClientRect();
          const cx = e.clientX - rect.left - rect.width / 2;
          const cy = e.clientY - rect.top - rect.height / 2;
          const dx = (cx / (rect.width / 2)) * PULL;
          const dy = (cy / (rect.height / 2)) * PULL;
          btn.style.transform =
            'translateY(-3px) scale(1.015) translate(' + dx.toFixed(1) + 'px,' + dy.toFixed(1) + 'px)';
        });
        btn.addEventListener('mouseleave', () => {
          btn.style.transform = '';
        });
      });
    }

    /* ── 6. Input Focus Feedback — Visual micro-interactions ─────── */
    document.querySelectorAll('.input-wrap input').forEach(input => {
      /* On focus: add a subtle glow ring animation */
      input.addEventListener('focus', () => {
        input.parentElement.classList.add('focused');
      });
      input.addEventListener('blur', () => {
        input.parentElement.classList.remove('focused');
      });
    });

    /* ── 7. Spotlight follows cursor ─────────────────────────────── */
    if (!prefersReduced) {
      const spotlight = document.getElementById('spotlight');
      if (spotlight) {
        let sx = window.innerWidth / 2, sy = window.innerHeight / 2;
        let tsx = sx, tsy = sy;
        document.addEventListener('mousemove', (e) => { tsx = e.clientX; tsy = e.clientY; });
        function animateSpotlight() {
          sx += (tsx - sx) * .04;
          sy += (tsy - sy) * .04;
          spotlight.style.transform = 'translate(calc(-50% + ' +
            (sx - window.innerWidth / 2).toFixed(0) + 'px), calc(-50% + ' +
            (sy - window.innerHeight / 2).toFixed(0) + 'px))';
          requestAnimationFrame(animateSpotlight);
        }
        animateSpotlight();
      }
    }

    /* ── 8. Re-trigger field stagger on tab switch ───────────────── */
    if (!prefersReduced) {
      const forms = document.querySelectorAll('.auth-form');
      const origObserver = new MutationObserver((mutations) => {
        for (const m of mutations) {
          if (m.target.classList.contains('active')) {
            const fields = m.target.querySelectorAll('.form-field');
            fields.forEach((f, i) => {
              f.style.animation = 'none';
              f.offsetHeight; /* trigger reflow */
              f.style.animation = '';
              f.style.setProperty('--field-delay', (i * .08 + .05) + 's');
            });
          }
        }
      });
      forms.forEach(form => {
        origObserver.observe(form, { attributes: true, attributeFilter: ['class'] });
      });
    }
  })();
  </script>

  <!-- ═══════════════════════════════════════════════════════════════
       SCROLL SYSTEM — Progress, Reveal, Nav dots, Back-to-top
       ═══════════════════════════════════════════════════════════════ -->
  <script>
  (function scrollSystem() {
    'use strict';
    const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

    /* ── 1. Scroll Progress Bar ──────────────────────────────────── */
    const progressBar = document.getElementById('scrollProgress');
    function updateProgress() {
      const scrollTop = window.scrollY || document.documentElement.scrollTop;
      const docHeight = document.documentElement.scrollHeight - window.innerHeight;
      const pct = docHeight > 0 ? (scrollTop / docHeight) * 100 : 0;
      if (progressBar) progressBar.style.width = pct.toFixed(1) + '%';
    }

    /* ── 2. IntersectionObserver — Reveal on scroll ──────────────── */
    const revealClasses = ['reveal', 'reveal-left', 'reveal-right', 'reveal-scale', 'reveal-stagger'];
    const revealEls = document.querySelectorAll(revealClasses.map(c => '.' + c).join(','));

    if (!prefersReduced && revealEls.length) {
      const revealObs = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('visible');
            revealObs.unobserve(entry.target); /* only animate once */
          }
        });
      }, { threshold: 0.15, rootMargin: '0px 0px -40px 0px' });

      revealEls.forEach(el => revealObs.observe(el));
    } else {
      /* If reduced motion, show everything immediately */
      revealEls.forEach(el => el.classList.add('visible'));
    }

    /* ── 3. Section Nav Dots — Highlight active section ───────────── */
    const navDots = document.querySelectorAll('.section-nav a');
    const sections = [];
    navDots.forEach(dot => {
      const id = dot.getAttribute('href');
      if (id && id.startsWith('#')) {
        const sec = document.getElementById(id.substring(1));
        if (sec) sections.push({ el: sec, dot: dot });
      }
    });

    function updateNavDots() {
      const scrollY = window.scrollY + window.innerHeight / 3;
      let activeIdx = 0;
      for (let i = sections.length - 1; i >= 0; i--) {
        if (scrollY >= sections[i].el.offsetTop) {
          activeIdx = i;
          break;
        }
      }
      navDots.forEach(d => d.classList.remove('active'));
      if (sections[activeIdx]) sections[activeIdx].dot.classList.add('active');
    }

    /* ── 4. Back to Top Button ───────────────────────────────────── */
    const backBtn = document.getElementById('backToTop');
    function updateBackToTop() {
      if (!backBtn) return;
      if (window.scrollY > window.innerHeight * 0.6) {
        backBtn.classList.add('visible');
      } else {
        backBtn.classList.remove('visible');
      }
    }

    /* ── 5. Parallax subtle effect on hero stats ─────────────────── */
    const heroSection = document.getElementById('hero');
    function updateParallax() {
      if (prefersReduced || !heroSection) return;
      const scrollY = window.scrollY;
      const heroH = heroSection.offsetHeight;
      if (scrollY < heroH) {
        const ratio = scrollY / heroH;
        heroSection.style.transform = 'translateY(' + (ratio * 40).toFixed(1) + 'px)';
        heroSection.style.opacity = (1 - ratio * 0.8).toFixed(2);
      }
    }

    /* ── 6. Smooth scroll for anchor links ───────────────────────── */
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function(e) {
        e.preventDefault();
        const target = document.getElementById(this.getAttribute('href').substring(1));
        if (target) {
          target.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
      });
    });

    /* ── Throttled scroll handler ────────────────────────────────── */
    let ticking = false;
    function onScroll() {
      if (!ticking) {
        requestAnimationFrame(() => {
          updateProgress();
          updateNavDots();
          updateBackToTop();
          updateParallax();
          ticking = false;
        });
        ticking = true;
      }
    }

    window.addEventListener('scroll', onScroll, { passive: true });
    /* Initialize on load */
    updateProgress();
    updateNavDots();
    updateBackToTop();
  })();
  </script>

  <script>
    /* ── Redirect if already logged in ── */
    (function() {
      const token = localStorage.getItem('oq-token');
      const expires = localStorage.getItem('oq-expires');
      if (token && expires && Date.now() < Number(expires)) {
        window.location.href = '/';
        return;
      }
    })();

    const API = '/api/v1/auth';

    /* ── DOM refs ── */
    const tabLogin   = document.getElementById('tabLogin');
    const tabSignup  = document.getElementById('tabSignup');
    const loginForm  = document.getElementById('loginForm');
    const signupForm = document.getElementById('signupForm');
    const errorMsg   = document.getElementById('errorMsg');
    const successMsg = document.getElementById('successMsg');
    const loginBtn   = document.getElementById('loginBtn');
    const signupBtn  = document.getElementById('signupBtn');

    /* ── Tab switching ── */
    tabLogin.addEventListener('click', () => {
      tabLogin.classList.add('active');
      tabSignup.classList.remove('active');
      loginForm.classList.add('active');
      signupForm.classList.remove('active');
      hideMessages();
    });
    tabSignup.addEventListener('click', () => {
      tabSignup.classList.add('active');
      tabLogin.classList.remove('active');
      signupForm.classList.add('active');
      loginForm.classList.remove('active');
      hideMessages();
    });

    function hideMessages() {
      errorMsg.classList.remove('show');
      successMsg.classList.remove('show');
    }
    function showError(msg) {
      hideMessages();
      errorMsg.textContent = msg;
      errorMsg.classList.add('show');
    }
    function showSuccess(msg) {
      hideMessages();
      successMsg.textContent = msg;
      successMsg.classList.add('show');
    }

    function setLoading(btn, on) {
      btn.disabled = on;
      btn.classList.toggle('loading', on);
    }

    function storeTokens(data) {
      localStorage.setItem('oq-token', data.access_token);
      if (data.refresh_token) localStorage.setItem('oq-refresh', data.refresh_token);
      const exp = Date.now() + (data.expires_in || 1800) * 1000;
      localStorage.setItem('oq-expires', exp.toString());
    }

    /* ── Login ── */
    loginForm.addEventListener('submit', async (e) => {
      e.preventDefault();
      hideMessages();
      const user = document.getElementById('loginUser').value.trim();
      const pass = document.getElementById('loginPass').value;
      if (!user || !pass) return showError('Please fill in all fields');

      setLoading(loginBtn, true);
      try {
        const res = await fetch(`${API}/login`, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ username: user, password: pass })
        });
        const data = await res.json();
        if (!res.ok) throw new Error(data.detail || 'Login failed');
        storeTokens(data);
        window.location.href = '/';
      } catch (err) {
        showError(err.message);
      } finally {
        setLoading(loginBtn, false);
      }
    });

    /* ── Signup ── */
    signupForm.addEventListener('submit', async (e) => {
      e.preventDefault();
      hideMessages();
      const name    = document.getElementById('signupName').value.trim();
      const user    = document.getElementById('signupUser').value.trim();
      const email   = document.getElementById('signupEmail').value.trim();
      const pass    = document.getElementById('signupPass').value;
      const confirm = document.getElementById('signupConfirm').value;

      if (!name || !user || !email || !pass || !confirm) return showError('Please fill in all fields');
      if (user.length < 3) return showError('Username must be at least 3 characters');
      if (!/^[a-z0-9_]+$/i.test(user)) return showError('Username: only letters, digits, and underscores allowed');
      if (!/^[^@]+@[^@]+\.[^@]+$/.test(email)) return showError('Please enter a valid email address');
      if (pass.length < 8) return showError('Password must be at least 8 characters');
      if (!/[A-Z]/.test(pass)) return showError('Password must contain at least one uppercase letter');
      if (!/[a-z]/.test(pass)) return showError('Password must contain at least one lowercase letter');
      if (!/\d/.test(pass)) return showError('Password must contain at least one digit');
      if (!/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?`~]/.test(pass)) return showError('Password must contain at least one special character (!@#$%...)');
      if (pass !== confirm) return showError('Passwords do not match');

      setLoading(signupBtn, true);
      try {
        const res = await fetch(`${API}/signup`, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ full_name: name, username: user, email, password: pass })
        });
        const data = await res.json();
        if (!res.ok) throw new Error(data.detail || 'Signup failed');
        storeTokens(data);
        showSuccess('Account created! Redirecting…');
        setTimeout(() => { window.location.href = '/'; }, 800);
      } catch (err) {
        showError(err.message);
      } finally {
        setLoading(signupBtn, false);
      }
    });

    /* ── Toggle Password Visibility ── */
    document.querySelectorAll('.toggle-pw').forEach(btn => {
      btn.addEventListener('click', () => {
        const input = document.getElementById(btn.dataset.target);
        const isPw = input.type === 'password';
        input.type = isPw ? 'text' : 'password';
        btn.textContent = isPw ? '🙈' : '👁';
      });
    });

    /* ── Password Strength ── */
    const pwInput    = document.getElementById('signupPass');
    const pwStrength = document.getElementById('pwStrength');
    const pwLabel    = document.getElementById('pwLabel');
    const bars       = pwStrength.querySelectorAll('.bar');

    pwInput.addEventListener('input', () => {
      const val = pwInput.value;
      let score = 0;
      if (val.length >= 8) score++;
      if (/[A-Z]/.test(val) && /[a-z]/.test(val)) score++;
      if (/\d/.test(val)) score++;
      if (/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?`~]/.test(val)) score++;
      if (/[^A-Za-z0-9]/.test(val)) score++;
      score = Math.min(score, 4);

      const levels = ['', 'Weak', 'Fair', 'Good', 'Strong'];
      const classes = ['', 'weak', 'medium', 'medium', 'strong'];
      bars.forEach((bar, i) => {
        bar.className = 'bar';
        if (i < score) bar.classList.add(classes[score]);
      });
      pwLabel.textContent = val.length > 0 ? levels[score] : '';
    });
  </script>
</body>
</html>
